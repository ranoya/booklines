<!doctype html>

<html style="margin: 0; padding: 0; overflow-y: hidden; overflow-x: hidden">
  <head>
    <meta charset="utf-8" />
    <meta name="pinterest" content="nopin" />
    <meta name="pinterest" content="nohover" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="keywords" content="" />
    <title>ART/ANC/ODE</title>
    <meta property="og:title" content="ART/ANC/ODE" />
    <meta name="generator" content="Observable" />
    <meta
      name="description"
      content="Coleção de obras de arte generativa e arte computacional"
    />
    <meta
      property="og:description"
      content="Coleção de obras de arte generativa e arte computacional"
    />
    <meta name="author" content="Guilherme Ranoya" />

    <style>
      @import url("https://fonts.googleapis.com/css2?family=MuseoModerno:ital,wght@0,100..900;1,100..900&display=swap");

      :root {
        --cor-texto: #ffffff;
        --rebase-color: #ffffff;
      }

      * {
        margin: 0;
        padding: 0;
        border: 0;
      }

      body {
        background-color: #151515;
        font-family: "MuseoModerno", sans-serif;
        font-optical-sizing: auto;
        font-weight: 500;
        font-style: normal;
        color: var(--rebase-color);
      }

      #titulo {
        position: fixed;
        z-index: 9;
        width: 60vw;
        height: 100dvh;
        top: 0;
        right: 0;
      }

      #nome {
        position: fixed;
        z-index: 10;
        width: 60vw;
        height: 60vh;
        top: 42dvh;
        right: 85px;
        z-index: 5000;
        text-align: right;
      }

      #logo {
        position: fixed;
        z-index: 10;
        width: 90vw;
        height: 60vh;
        top: calc(45dvh - 0px);
        left: 85px;
        z-index: 5000;
        text-align: left;
        font-size: 40px;
        line-height: 44px;
      }
    </style>
  </head>

  <body style="margin: 0; padding: 0; overflow-y: hidden; overflow-x: hidden">
    <div id="titulo"></div>
    <div id="nome"></div>
    <div id="logo"></div>

    <iframe
      id="fundo"
      frameborder="0"
      style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100dvh;
        margin: 0;
        padding: 0;
        z-index: 1;
      "
    ></iframe>
    <div
      id="frente"
      style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100dvh;
        margin: 0;
        padding: 0;
        z-index: 2;
        background-size: contain;
        background-position: center center;
        background-repeat: no-repeat;
      "
    ></div>

    <script>
      $_GET = [];
      (function () {
        corte = window.location.href.toString().indexOf("?");
        if (corte > 0) {
          argumento = window.location.href.toString().substring(corte + 1);
          argumentos = argumento.split("&");
          for (arg in argumentos) {
            let argCorte = argumentos[arg].indexOf("=");
            $_GET[argumentos[arg].substring(0, argCorte)] = argumentos[
              arg
            ].substring(argCorte + 1);
          }
        }
      })();

      let bg = "000000";
      let fg = "FFFFFF";
      let art = "mitp";

      if (
        typeof $_GET["bgcolor"] != "undefined" &&
        $_GET["bgcolor"] != null &&
        $_GET["bgcolor"] != ""
      ) {
        bg = $_GET["bgcolor"];
      }

      txt = "";

      if (
        typeof $_GET["texto"] != "undefined" &&
        $_GET["texto"] != null &&
        $_GET["texto"] != ""
      ) {
        txt = $_GET["texto"];
      }

      document.getElementById("logo").innerHTML = decodeURI(txt);

      if (
        typeof $_GET["imgtype"] != "undefined" &&
        $_GET["imgtype"] != null &&
        $_GET["imgtype"] != ""
      ) {
        imgtype = $_GET["imgtype"];
      }

      if (
        typeof $_GET["fcolor"] != "undefined" &&
        $_GET["fcolor"] != null &&
        $_GET["fcolor"] != ""
      ) {
        fg = $_GET["fcolor"];
      }

      if (
        typeof $_GET["art"] != "undefined" &&
        $_GET["art"] != null &&
        $_GET["art"] != ""
      ) {
        art = $_GET["art"];
      }

      document.getElementById("fundo").src =
        `https://artndcode.vercel.app/Singles/${art}.html?fcolor=${fg}&bgcolor=${bg}`;

      document.getElementsByTagName("html")[0].style.backgroundColor = `#${bg}`;
      document.getElementsByTagName("body")[0].style.backgroundColor = `#${bg}`;

      let hsl2hex = function (h, s, l) {
        l /= 100;
        const a = (s * Math.min(l, 1 - l)) / 100;
        const f = (n) => {
          const k = (n + h / 30) % 12;
          const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
          return Math.round(255 * color)
            .toString(16)
            .padStart(2, "0"); // convert to Hex and prefix "0" if needed
        };
        return `#${f(0)}${f(8)}${f(4)}`;
      };

      let h = 0;
      let h2 = h + 180;

      setInterval(function () {
        document
          .querySelector(":root")
          .style.setProperty("--cor-texto", hsl2hex(h, 46, 87));

        document
          .querySelector(":root")
          .style.setProperty("--rebase-color", hsl2hex(h2, 46, 87));

        h++;
        h2 += 5;

        if (h > 360) {
          h = 0;
        }

        if (h2 > 360) {
          h2 = 0;
        }
      }, 10);
    </script>
  </body>
</html>
